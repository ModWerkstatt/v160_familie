local transf = require "transf"
local ParamBuilder = require "parambuilder_v1_1"
local constructionutil = require "constructionutil"
local positionx = ParamBuilder.Slider("offsetx", _("offset x-axis"), ParamBuilder.rangeSymm(1, 0.01), 1 / 0.01, _("jrm_param_offsetx_tooltip"))
local model_icons = {

	"ui/models_small/vehicle/train/br210/br210_ar1@2x.tga",
	"ui/models_small/vehicle/train/br210/br210_ob@2x.tga",
	"ui/models_small/vehicle/train/br215/br215_ar1_mb@2x.tga",
	"ui/models_small/vehicle/train/br215/br215_ar2_mb@2x.tga",
	"ui/models_small/vehicle/train/br215/br215_ob2_mb@2x.tga",
	"ui/models_small/vehicle/train/br215/br215_ob_man@2x.tga",
	"ui/models_small/vehicle/train/br215/br215_or2_mb@2x.tga",
	"ui/models_small/vehicle/train/br215/br215_or_mb@2x.tga",
	"ui/models_small/vehicle/train/br215/br215_vr2_mb@2x.tga",
	"ui/models_small/vehicle/train/br215/br215_vr_mb@2x.tga",
	"ui/models_small/vehicle/train/br215/br225_ob_tb11@2x.tga",
	"ui/models_small/vehicle/train/br215/br225_or_tb10@2x.tga",
	"ui/models_small/vehicle/train/br215/br225_vg_tb11@2x.tga",
	"ui/models_small/vehicle/train/br215/br225_vr2_tb10@2x.tga",
	"ui/models_small/vehicle/train/br215/br225_vr3_tb11@2x.tga",
	"ui/models_small/vehicle/train/br215/br225_vr_tb10@2x.tga",
	"ui/models_small/vehicle/train/br216/br216-010_ar@2x.tga",
	"ui/models_small/vehicle/train/br216/br216_ar@2x.tga",
	"ui/models_small/vehicle/train/br216/br216_ar2@2x.tga",
	"ui/models_small/vehicle/train/br216/br216_lollo_ar@2x.tga",
	"ui/models_small/vehicle/train/br216/br216_lollo_ar2@2x.tga",
	"ui/models_small/vehicle/train/br216/br216_lollo_ob@2x.tga",
	"ui/models_small/vehicle/train/br216/br216_ob@2x.tga",
	"ui/models_small/vehicle/train/br216/br216_ob2@2x.tga",
	"ui/models_small/vehicle/train/br216/br216_or@2x.tga",
	"ui/models_small/vehicle/train/br216/br216_or2@2x.tga",
	"ui/models_small/vehicle/train/br216/br216_vr@2x.tga",
	"ui/models_small/vehicle/train/br216/br216_vr2@2x.tga",
	"ui/models_small/vehicle/train/br216/v160-010_ar@2x.tga",
	"ui/models_small/vehicle/train/br216/v160_ar1@2x.tga",
	"ui/models_small/vehicle/train/br216/v160_ar2@2x.tga",
	"ui/models_small/vehicle/train/br216/v160_lollo_ar@2x.tga",
	"ui/models_small/vehicle/train/br217/br217_ar_tb10@2x.tga",
	"ui/models_small/vehicle/train/br217/br217_ob2_tb10@2x.tga",
	"ui/models_small/vehicle/train/br217/br217_ob_tb10@2x.tga",
	"ui/models_small/vehicle/train/br217/br217_or2_tb10@2x.tga",
	"ui/models_small/vehicle/train/br217/br217_or_tb10@2x.tga",
	"ui/models_small/vehicle/train/br217/br217_vr_tb10@2x.tga",
	"ui/models_small/vehicle/train/br217/br753_ob2_tb10@2x.tga",
	"ui/models_small/vehicle/train/br217/br753_ob_tb10@2x.tga",
	"ui/models_small/vehicle/train/br217/br753_pb_tb10@2x.tga",
	"ui/models_small/vehicle/train/br217/v162_ar_tb10@2x.tga",
	"ui/models_small/vehicle/train/br218/br218.8_vr_tb11@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_ar1_tb10@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_ar2_tb10@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_ar3_tb11@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_ar4_ps@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_ar5_r40@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_bke_tb11@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_cb1_tb10@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_cb2_tb10@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_fzi_tb11@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_ice_tb11@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_khr_tb10@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_nesa2_tb11@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_nesa_tb11@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_ob10_r40@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_ob1_tb10@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_ob2_ps@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_ob3_tb11@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_ob4_tb11@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_ob5_tb11@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_ob6_tb11@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_ob7_tb10@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_ob8_ps@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_ob9_r40@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_or1_tb11@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_or2_tb11@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_or3_tb11@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_or4_tb11@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_or5_ps@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_or6_ps@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_or7_r40@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_or8_r40@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_or_versuch_tb10@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_pb_tb11@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_press2_tb11@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_press_ps@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_ris_tb10@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_sbahn_ts_tb11@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_ueg_tb10@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_vr10_ps@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_vr11_r40@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_vr1_tb11@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_vr2_tb11@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_vr3_tb11@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_vr4_tb11@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_vr5_tb11@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_vr6_tb11@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_vr7_tb10@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_vr8_tb11@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_vr9_tb10@2x.tga",
	"ui/models_small/vehicle/train/br218/br218_west_tb10@2x.tga",
	"ui/models_small/vehicle/train/br219/br219_ar@2x.tga",
	"ui/models_small/vehicle/train/br219/br219_ar2@2x.tga",
	"ui/models_small/vehicle/train/br219/br219_bwg@2x.tga",
	"ui/models_small/vehicle/train/br219/br219_evb@2x.tga",
	"ui/models_small/vehicle/train/br219/br219_lokrapid@2x.tga",
	"ui/models_small/vehicle/train/br219/v169_ar@2x.tga",
	"ui/models_small/vehicle/train/dh1504/dh1504_blc@2x.tga",
	"ui/models_small/vehicle/train/dh1504/dh1504_mkb@2x.tga",
	"ui/models_small/vehicle/train/dh1504/dh1504_mkb_silber@2x.tga",
	"ui/models_small/vehicle/train/dh1504/dh1504_niag_8@2x.tga",
	"ui/models_small/vehicle/train/dh1504/dh1504_niag_9@2x.tga",
	"ui/models_small/vehicle/train/dh1504/dh1504_ohe@2x.tga"

}
local model_values = {

	"asset/v160/br210_ar1.mdl",
	"asset/v160/br210_ob.mdl",
	"asset/v160/br215_ar1_mb.mdl",
	"asset/v160/br215_ar2_mb.mdl",
	"asset/v160/br215_ob2_mb.mdl",
	"asset/v160/br215_ob_man.mdl",
	"asset/v160/br215_or2_mb.mdl",
	"asset/v160/br215_or_mb.mdl",
	"asset/v160/br215_vr2_mb.mdl",
	"asset/v160/br215_vr_mb.mdl",
	"asset/v160/br225_ob_tb11.mdl",
	"asset/v160/br225_or_tb10.mdl",
	"asset/v160/br225_vg_tb11.mdl",
	"asset/v160/br225_vr2_tb10.mdl",
	"asset/v160/br225_vr3_tb11.mdl",
	"asset/v160/br225_vr_tb10.mdl",
	"asset/v160/br216-010_ar.mdl",
	"asset/v160/br216_ar.mdl",
	"asset/v160/br216_ar2.mdl",
	"asset/v160/br216_lollo_ar.mdl",
	"asset/v160/br216_lollo_ar2.mdl",
	"asset/v160/br216_lollo_ob.mdl",
	"asset/v160/br216_ob.mdl",
	"asset/v160/br216_ob2.mdl",
	"asset/v160/br216_or.mdl",
	"asset/v160/br216_or2.mdl",
	"asset/v160/br216_vr.mdl",
	"asset/v160/br216_vr2.mdl",
	"asset/v160/v160-010_ar.mdl",
	"asset/v160/v160_ar1.mdl",
	"asset/v160/v160_ar2.mdl",
	"asset/v160/v160_lollo_ar.mdl",
	"asset/v160/br217_ar_tb10.mdl",
	"asset/v160/br217_ob2_tb10.mdl",
	"asset/v160/br217_ob_tb10.mdl",
	"asset/v160/br217_or2_tb10.mdl",
	"asset/v160/br217_or_tb10.mdl",
	"asset/v160/br217_vr_tb10.mdl",
	"asset/v160/br753_ob2_tb10.mdl",
	"asset/v160/br753_ob_tb10.mdl",
	"asset/v160/br753_pb_tb10.mdl",
	"asset/v160/v162_ar_tb10.mdl",
	"asset/v160/br218.8_vr_tb11.mdl",
	"asset/v160/br218_ar1_tb10.mdl",
	"asset/v160/br218_ar2_tb10.mdl",
	"asset/v160/br218_ar3_tb11.mdl",
	"asset/v160/br218_ar4_ps.mdl",
	"asset/v160/br218_ar5_r40.mdl",
	"asset/v160/br218_bke_tb11.mdl",
	"asset/v160/br218_cb1_tb10.mdl",
	"asset/v160/br218_cb2_tb10.mdl",
	"asset/v160/br218_fzi_tb11.mdl",
	"asset/v160/br218_ice_tb11.mdl",
	"asset/v160/br218_khr_tb10.mdl",
	"asset/v160/br218_nesa2_tb11.mdl",
	"asset/v160/br218_nesa_tb11.mdl",
	"asset/v160/br218_ob10_r40.mdl",
	"asset/v160/br218_ob1_tb10.mdl",
	"asset/v160/br218_ob2_ps.mdl",
	"asset/v160/br218_ob3_tb11.mdl",
	"asset/v160/br218_ob4_tb11.mdl",
	"asset/v160/br218_ob5_tb11.mdl",
	"asset/v160/br218_ob6_tb11.mdl",
	"asset/v160/br218_ob7_tb10.mdl",
	"asset/v160/br218_ob8_ps.mdl",
	"asset/v160/br218_ob9_r40.mdl",
	"asset/v160/br218_or1_tb11.mdl",
	"asset/v160/br218_or2_tb11.mdl",
	"asset/v160/br218_or3_tb11.mdl",
	"asset/v160/br218_or4_tb11.mdl",
	"asset/v160/br218_or5_ps.mdl",
	"asset/v160/br218_or6_ps.mdl",
	"asset/v160/br218_or7_r40.mdl",
	"asset/v160/br218_or8_r40.mdl",
	"asset/v160/br218_or_versuch_tb10.mdl",
	"asset/v160/br218_pb_tb11.mdl",
	"asset/v160/br218_press2_tb11.mdl",
	"asset/v160/br218_press_ps.mdl",
	"asset/v160/br218_ris_tb10.mdl",
	"asset/v160/br218_sbahn_ts_tb11.mdl",
	"asset/v160/br218_ueg_tb10.mdl",
	"asset/v160/br218_vr10_ps.mdl",
	"asset/v160/br218_vr11_r40.mdl",
	"asset/v160/br218_vr1_tb11.mdl",
	"asset/v160/br218_vr2_tb11.mdl",
	"asset/v160/br218_vr3_tb11.mdl",
	"asset/v160/br218_vr4_tb11.mdl",
	"asset/v160/br218_vr5_tb11.mdl",
	"asset/v160/br218_vr6_tb11.mdl",
	"asset/v160/br218_vr7_tb10.mdl",
	"asset/v160/br218_vr8_tb11.mdl",
	"asset/v160/br218_vr9_tb10.mdl",
	"asset/v160/br218_west_tb10.mdl",
	"asset/v160/br219_ar.mdl",
	"asset/v160/br219_ar2.mdl",
	"asset/v160/br219_bwg.mdl",
	"asset/v160/br219_evb.mdl",
	"asset/v160/br219_lokrapid.mdl",
	"asset/v160/v169_ar.mdl",
	"asset/v160/dh1504_blc.mdl",
	"asset/v160/dh1504_mkb.mdl",
	"asset/v160/dh1504_mkb_silber.mdl",
	"asset/v160/dh1504_niag_8.mdl",
	"asset/v160/dh1504_niag_9.mdl",
	"asset/v160/dh1504_ohe.mdl"

}
local assetmodel = ParamBuilder.IconButton("type_param", _("vehicle"), model_icons, model_values, 1, _("asset"))

function data()

    return {
        type = "ASSET_TRACK",
        description = {
            name = _("mod_name"),
        },
        availability = {
            yearFrom = 1950,
            yearTo = 0,
        },
        buildMode = "MULTI",
        categories = { "tracks" },
        order = -2046867593,
        skipCollision = true,
        autoRemovable = false,
        params = {
                                    {
                    key = "position",
                    name = _("height"),
                    uiType = "BUTTON",
                    values = { _("ground"), _("rail") },
                    tooltip = _("height_tooltip"),
                    defaultIndex = 1,
                    },
                    positionx.params,
                    assetmodel.params,

        },
        updateFn = function(params)
            local trax = positionx.getValue(params)
            local height = 0
            if params.position == 1 then height = 1.05 end
            local result = { }
            result.models = { }

            table.insert(result.models, {
                id = assetmodel.getValue(params),
                transf = constructionutil.rotateTransf(params, { 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, trax, 0, height, 1 }),
            })

            result.terrainAlignmentLists = { {
                                                 type = "EQUAL",
                                                 faces = { }
                                             } }

            return result
        end
    }

end
